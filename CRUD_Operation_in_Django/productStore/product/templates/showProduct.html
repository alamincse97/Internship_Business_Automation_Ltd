{% extends 'base.html' %}

<!-- {% block title %}Show Book{% endblock %} -->

{% block content %}

{% csrf_token %} 

{% if messages %}
{% for m in messages %}
<h1 style="color: aqua;">{{m}}</h1>
{% endfor %}
{% endif %}
<div style="width: 80%;margin:auto;">
    {% if data %}
    <h1>List of  Books</h1>
    <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Book Name</th>
            <th scope="col">Author Name</th>
            <th scope="col">First publication</th>
            <th scope="col">last publication</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
            {% for item in data %}
          <tr>
            <td scope="row">{{item.id}}</td>
            <td scope="row">{{item.book_name}}</td>
            <td scope="row">{{item.author}}</td>
            <td scope="row">{{item.first_pub}}</td>
            <td scope="row">{{item.last_pub}}</td>
            <td scope="row">
              <a href="{% url 'edit_book' id=item.id %}" class="btn btn-warning">Edit</a>
              <a href="{% url 'delete_book' id=item.id %}" class="btn btn-danger">Delete</a>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <h1>No data to show</h1>
      {% endif %}
</div>

{%endblock%}